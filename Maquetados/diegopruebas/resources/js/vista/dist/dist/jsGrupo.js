var grupo=function(){var t=[],a=null,o=null,p=$("#list_body"),n=new grupoService,i=function(e){for(var o=[],t=0;t<e.length;t++){var a=e[t],n=new Date(a.gpoFechaCreacion),i=n.getFullYear(),r=1+n.getMonth(),l=n.getDate();o.push({events:[{type:"click",action:"redirect('/grupo/profile/"+a.idGrupo+"')"}],cols:[{type:"card-table-icon",icon:"mdi-social-group",background:"green accent-4 white-text"},{type:"card-table-content",label:"",value:a.gpoNombre.toUpperCase()},{type:"card-table-content",label:"Lugar de Reunion",value:a.gpoLugarReunion},{type:"card-table-content",label:"Fecha de Creacion",value:l+"/"+r+"/"+i}]})}var c=strings.random(8);components.render(p,components.cardTable.code(o,c)),components.cardTable.event(o,c),components.dropdownButton.init()},r=function(){a=null,l(""),$(".dropify-clear").trigger("click"),$("#modal_title").html("Registro de Grupo Peque単o"),$("#gpoNombre").val(""),$("#gpoLugarReunion").val(""),$("#gpoFechaCreacion").pickadate("picker").set("clear")},l=function(e){var o='<input type="file" id="gpoLogo" name="gpoLogo" class="dropify" accept="image/*"';o+='data-default-file="'+e+'" data-max-file-size="6M" data-height="150"',o+='data-allowed-file-extensions="png jpg jpeg bmp gif"/>',$("#dropify_container").empty(),$("#dropify_container").append(o),dropify.init()};return{IDESCUELA:o,list:function(e){null!=e&&(o=e),i([]),n.listGrupo({idEscuela:o},function(e){i(t=e)})},showModal:function(e){var o;a=t[e],o=a,r(),void 0!==o.gpoLogo&&null!==o.gpoLogo&&""!==o.gpoLogo&&"default"!==o.gpoLogo?l(o.gpoLogo):l(appDefaults.defaults.logoGrupo),$("#modal_title").html("Actualizar datos de Grupo Peque単o"),$("#gpoNombre").val(o.gpoNombre),$("#gpoLugarReunion").val(o.gpoLugarReunion),$("#gpoFechaCreacion").pickadate("picker").set("select",new Date(o.gpoFechaCreacion)),$("#modal1").openModal(),Materialize.updateTextFields()},delete:function(){confirmMessage({title:"Eliminar Grupo Peque単o",content:"多Seguro que desea eliminar este grupo?"},function(){n.deleteGrupo(a,grupo.list())})},setIdEscuela:function(e){o=e},getIdEscuela:function(){return o},selected:a}}(),gService=new grupoService;