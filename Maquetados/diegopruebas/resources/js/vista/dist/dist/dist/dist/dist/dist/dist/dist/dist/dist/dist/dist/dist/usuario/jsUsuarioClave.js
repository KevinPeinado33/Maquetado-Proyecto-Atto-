var usuarioClave=function(){var t=function(){selectRol&&selectRol.init()};return{init:function(){$("body").append('<div class="modal white" id="modalUsuarioClave"><div class="modal-content"><h5>Bienvenido(a) al CRM Digital</h5><p>Para empezar, necesitamos que cambies tu clave</p><div class="row"><div class="col l6 m12 s12 input-field"><input type="password" id="usuClaveOld" maxlength="255" /><label for="usuClaveOld">Ingresar clave Actual</label></div><div class="col l6 m12 s12 input-field"><input type="password" id="usuClaveNew" maxlength="255" /><label for="usuClaveNew">Ingresar clave Nueva</label></div></div><div class="row"><div class="col l12 m12 s12"><button id="btnGuardarUsuarioClave" class="btn purple white-text right">Guardar</button></div></div></div></div>');var a=$("#crm_estadoClave").val(),e=$("#crm_estadoClaveSession").val();"0"!==a||!1!==strings.validate(e)&&"0"!==e?t():$("#modalUsuarioClave").openModal(),$("#btnGuardarUsuarioClave").click(function(){if(e=!0,l="Cambio de Clave",s=$("#usuClaveOld").val(),i=$("#usuClaveNew").val(),!1===strings.validate(s)&&(e=!1,errorMessage({title:l,content:"Debe ingresar la clave actual"})),!1===strings.validate(i)&&(e=!1,errorMessage({title:l,content:"Debe ingresar la clave nueva"})),strings.validate(i)&&strings.validate(s)&&(i===s&&(e=!1,errorMessage({title:l,content:"Debe ingresar una clave diferente a la actual"})),i.length<6&&(e=!1,errorMessage({title:l,content:"La nueva clave debe tener por lo menos 6 caracteres"}))),e){var a={idPersona:userInfo.idPersona,usuUsuario:$("#usuClaveOld").val(),usuClave:$("#usuClaveNew").val()};usuarioService.updateUsuarioClave(a,function(){$("#modalUsuarioClave").closeModal(),t()})}var e,l,s,i})}}}();$(document).ready(function(){usuarioClave.init()});