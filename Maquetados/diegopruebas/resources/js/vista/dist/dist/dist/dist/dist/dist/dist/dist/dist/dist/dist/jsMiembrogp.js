var list_body=$("#list_body"),mgpService=new miembrogpService,idGrupo=$("#crm_idGrupo").val();function load(){var e={idGrupo:idGrupo};mgpService.listMiembrogp(e,mostrar)}function mostrar(e){for(var o="",i=0,t=e.length;i<t;i++){var r=getLetter(e[i].persona.perNombres),a=e[i].persona.perTelefono;void 0===a&&(a="Sin celular");var n=e[i].persona.perCorreo;void 0===n&&(n="Sin correo"),o+="<tr>",o+='<td style="width:38px;"><button class="btn-floating waves-effect waves-light '+getColor()+'">'+r+"</button></td>",o+='<td class="ligth italic">'+e[i].persona.perNombres+" "+e[i].persona.perApellidos+"</td>",o+='<td class="thin tR"><i class="mdi-communication-call"></i>  '+a+"</td>",o+='<td class="thin tR"><i class="mdi-communication-email"></i>  '+n+"</td>",o+='<td style="float:right">',o+='<a class="grey-text" onclick="deleteMGP('+e[i].idMiembrogp+')"><i class="mdi-action-delete actCRUD"></i></a>',o+='<a class="grey-text"><i class="mdi-social-person actCRUD" onclick="inform()"></i></a>',o+="</td>",o+="</tr>"}$(list_body).empty(),$(list_body).append(o)}function addMiembroGP(e){try{var o={persona:{idPersona:e},grupo:{idGrupo:idGrupo}};mgpService.addMiembrogp(o,algoritmo)}catch(e){console.error("Error jsMiembrogp : "+e)}}function algoritmo(){$("#modal1").closeModal();var e={idGrupo:idGrupo};mgpService.listMiembrogp(e,mostrar)}function deleteMGP(o){confirmMessage({title:"Desvinculación de Miembro",content:"¿Seguro que desea desvincular a este miembro?"},function(){var e={idMiembrogp:o};mgpService.deleteMiembrogp(e,load)})}function inform(){new PNotify({title:'<span class="blue-text">¡Hey!</span>',text:"Estamos trabajando para tener habilitada esta opción pronto",addclass:"crm-pnotify",icon:"mdi-action-info blue-text",buttons:{sticker:!1}})}$(document).ready(function(){load()});