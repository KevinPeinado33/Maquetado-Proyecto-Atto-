var campoProfile=function(){var r=$("#tab1"),i=$("#tab3"),e=$("#conModal"),o={},t=function(d){distritoService.list({idCampo:o.idCampo},function(e){var a=[];$("#dis_count").html(e.length);for(var i=0;i<e.length;i++){var o=e[i],t=dateConverter.format.longStringToDate(o.disFechaCreacion);a.push({events:[{type:"click",action:"redirect('/distrito/profile/"+o.idDistrito+"')"}],cols:[{type:"card-table-image",src:"",default:appDefaults.defaults.logoGrupo},{type:"card-table-content",label:"",value:o.disNombre},{type:"card-table-content",label:"Fecha de CreaciÃ³n",value:t}]});var n=strings.random(8);components.render(r,components.cardTable.code(a,n)),components.cardTable.event(a,n),d()}})};return{init:function(){o.idCampo=parseInt($("#info_campo_idCampo").val()),o.nombre=$("#info_campo_nombre").val(),o.idUnion=parseInt($("#info_campo_idUnion").val()),t(function(){}),adminLeaders.listLeaders(5,i)},regDistrito:function(){components.render(e,'<div class="modal-content"><h4>Registro de Distrito</h4><div class="row"><div class="col l6 m12 s12 input-field"><input type="text" id="n_disNombre" name="n_disNombre" value=""/><label for="n_disNombre">Nombre del Distrito</label></div><div class="col l6 m12 s12 input-field"><input type="text" id="n_disFechaCreacion" name="n_disFechaCreacion" value="" class="datepicker"/><label for="n_disFechaCreacion">Fecha de Creacion</label></div></div></div>'),$("#saveModal").empty().append("Registrar"),$("#saveModal").attr("onclick","campoProfile.addDistrito()"),$(".datepicker").pickadate()},addDistrito:function(){var e=$("#n_disNombre").val(),a=$("#n_disFechaCreacion").val();if(validate.incomplete([e,a])){var i={campo:{idCampo:o.idCampo},disNombre:e,disFechaCreacion:dateConverter.format.dateSlach(a)};distritoService.add(i,function(e){t(function(){})})}else infoMessage({title:message.incomplete.title,content:message.incomplete.content})},regLeader:function(){components.render(e,components.modalSetRol.code("persona-enabled","test",[{id:16,nombre:"Director de Campo"},{id:7,nombre:"MIPES de Campo"}])),select2.init(),$("#saveModal").empty().append("Asignar"),$("#saveModal").attr("onclick","campoProfile.addLeader()")},addLeader:function(){var e=$("#persona").val(),a=$("#rolS").val();adminLeaders.addLeader(e,a,function(e){adminLeaders.listLeaders(5,i)})}}}();