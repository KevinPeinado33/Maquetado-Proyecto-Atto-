personaUpdate=function(){var t=function(){return{idPersona:$("#id_persona_selected").val(),perNombres:$("#perNombres").val(),perApellidos:$("#perApellidos").val(),documento:{idDocumento:$("#documento").val()},perSexo:$('input:radio[name ="perSexo"]:checked').val(),perDocumento:$("#perDocumento").val(),perCorreo:$("#perCorreo").val(),perDireccion:$("#perDireccion").val(),perTelefono:$("#perTelefono").val(),perFecNacimiento:$('input[name="perFechaNacimiento"]').val(),perFechaBautismo:$('input[name="perFechaBautismo"]').val(),perFoto:$("#perFoto").val(),perEstado:$("#perEstado").val()}};return{init:function(){strings.validate($("#perFechaBautismo").val())&&$("#perFechaBautismo").pickadate("picker").set("select",new Date($("#perFechaBautismo").val()+" 00:00"));strings.validate($("#perFechaNacimiento").val())&&$("#perFechaNacimiento").pickadate("picker").set("select",new Date($("#perFechaNacimiento").val()+" 00:00"))},save:function(){if(e=t(),r=!0,o="Actualizar datos Personales",strings.validate(e.perNombres)||(r=!1,errorMessage({title:o,content:"Debes ingresar los nombres"})),strings.validate(e.perApellidos)||(r=!1,errorMessage({title:o,content:"Debes ingresar los apellidos"})),strings.validate(e.perDocumento)||(r=!1,errorMessage({title:o,content:"Debes ingresar el n√∫mero de documento de identidad"})),r){var a=t();a.perNombres=a.perNombres.toUpperCase(),a.perApellidos=a.perApellidos.toUpperCase(),strings.validate(a.perFecNacimiento)&&(a.perFecNacimiento=new Date(a.perFecNacimiento+" 00:00").getTime()),strings.validate(a.perFechaBautismo)&&(a.perFechaBautismo=new Date(a.perFechaBautismo+" 00:00").getTime()),personaService.update(a,function(e){location.href=crm_context_path+"/persona/profile/"+a.idPersona})}var e,r,o},map:t}}(),$(document).ready(function(){personaUpdate.init()});